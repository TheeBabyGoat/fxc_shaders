//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
//
// Buffer Definitions: 
//
// cbuffer soft_shadow_locals
// {
//
//   float4 projectionParams;           // Offset:    0 Size:    16
//   float4 targetSizeParam;            // Offset:   16 Size:    16
//   float4 kernelParam;                // Offset:   32 Size:    16
//   float4 earlyOutParams;             // Offset:   48 Size:    16 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim      HLSL Bind  Count
// ------------------------------ ---------- ------- ----------- -------------- ------
// intermediateTarget_Sampler        sampler      NA          NA             s4      1 
// depthBuffer2_Sampler              sampler      NA          NA             s6      1 
// intermediateTarget                texture  float2          2d             t4      1 
// depthBuffer2                      texture   float          2d             t6      1 
// soft_shadow_locals                cbuffer      NA          NA           cb10      1 
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Position              0   xyzw        0      POS   float   xy  
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Target                0   xyzw        0   TARGET   float   xyzw
//
ps_4_0
dcl_constantbuffer CB10[3], immediateIndexed
dcl_sampler s4, mode_default
dcl_sampler s6, mode_default
dcl_resource_texture2d (float,float,float,float) t4
dcl_resource_texture2d (float,float,float,float) t6
dcl_input_ps_siv linear noperspective v0.xy, position
dcl_output o0.xyzw
dcl_temps 29
mul r0.xy, v0.xyxx, cb10[1].zwzz
sample_l r1.xyzw, r0.xyxx, t6.xyzw, s6, l(0.000000)
add r0.z, -r1.x, cb10[0].w
add r0.z, r0.z, l(1.000000)
div r0.z, cb10[0].z, r0.z
mad r1.xy, r0.xyxx, l(2.000000, -2.000000, 0.000000, 0.000000), l(-1.000000, 1.000000, 0.000000, 0.000000)
mul r1.xy, r1.xyxx, cb10[0].xyxx
mov r1.z, l(1.000000)
mul r1.xyw, r0.zzzz, r1.xyxz
mul r2.xy, cb10[1].xyxx, l(0.500000, 0.500000, 0.000000, 0.000000)
div r2.zw, cb10[2].xxxx, cb10[0].xxxy
mul r2.xy, r2.zwzz, r2.xyxx
div r2.xy, r2.xyxx, r1.wwww
min r2.xy, r2.xyxx, cb10[2].yyyy
max r0.w, r2.y, r2.x
sample_l r2.xyzw, r0.xyxx, t4.xyzw, s4, l(0.000000)
ge r0.x, r0.w, l(1.000000)
if_nz r0.x
  round_z r0.x, r0.w
  ftoi r0.x, r0.x
  mad r0.y, cb10[2].z, v0.x, -cb10[0].x
  mad r0.w, -cb10[2].w, v0.y, cb10[0].y
  ftoi r3.xyzw, v0.xyxy
  iadd r4.xyzw, r3.xyzw, l(1, 1, -1, -1)
  mov r5.xyzw, r0.yyyy
  mov r6.xyzw, r0.wwww
  mov r7.x, r4.x
  mov r7.y, r3.w
  mov r7.z, l(0)
  mov r8.x, r3.z
  mov r8.y, r4.y
  mov r8.z, l(0)
  mov r9.x, r4.z
  mov r9.y, r3.w
  mov r9.z, l(0)
  mov r10.x, r3.z
  mov r10.y, r4.w
  mov r10.z, l(0)
  mov r3.x, r2.x
  mov r3.y, l(1.000000)
  mov r1.w, l(0)
  loop 
    ilt r2.y, r0.x, r1.w
    breakc_nz r2.y
    and r2.y, r1.w, l(1)
    if_nz r2.y
      mad r11.xyzw, cb10[2].zzzz, l(2.000000, 0.000000, -2.000000, 0.000000), r5.xyzw
      mad r12.xyzw, cb10[2].wwww, l(-0.000000, -2.000000, -0.000000, 2.000000), r6.xyzw
      iadd r2.yzw, r7.xxyz, l(0, 1, 0, 0)
      iadd r13.xyz, r8.xyzx, l(0, 1, 0, 0)
      iadd r14.xy, r9.xyxx, l(-1, 0, 0, 0)
      iadd r15.xyz, r10.xyzx, l(0, -1, 0, 0)
      mov r7.w, l(0)
      mov r8.w, l(2)
    else 
      mad r11.xyzw, cb10[2].zzzz, l(1.000000, 0.000000, -1.000000, 0.000000), r5.xyzw
      mad r12.xyzw, cb10[2].wwww, l(-0.000000, -1.000000, -0.000000, 1.000000), r6.xyzw
      mov r2.yzw, r7.xxyz
      mov r13.xyz, r8.xyzx
      mov r14.xy, r9.xyxx
      mov r15.xyz, r10.xyzx
      mov r7.w, r9.z
      mov r8.w, l(1)
    endif 
    mov r16.xyzw, r11.xyzw
    mov r17.xyzw, r12.xyzw
    mov r18.xyz, r2.yzwy
    mov r19.xyz, r13.xyzx
    mov r20.xy, r14.xyxx
    mov r20.z, r7.w
    mov r21.xyz, r15.xyzx
    mov r14.zw, r3.xxxy
    mov r9.w, r8.w
    loop 
      ilt r10.w, r0.x, r9.w
      breakc_nz r10.w
      ld_aoffimmi(0,0,0) r22.xyzw, r18.xyzz, t6.xyzw
      add r22.x, -r22.x, cb10[0].w
      ld r23.xyzw, r18.xyzz, t4.xyzw
      ld_aoffimmi(0,0,0) r24.xyzw, r19.xyzz, t6.xyzw
      add r22.y, -r24.x, cb10[0].w
      ld r24.xyzw, r19.xyzz, t4.xyzw
      ld_aoffimmi(0,0,0) r25.xyzw, r20.xyzz, t6.xyzw
      add r22.z, -r25.x, cb10[0].w
      ld r25.xyzw, r20.xyzz, t4.xyzw
      ld_aoffimmi(0,0,0) r26.xyzw, r21.xyzz, t6.xyzw
      add r22.w, -r26.x, cb10[0].w
      ld r26.xyzw, r21.xyzz, t4.xyzw
      add r22.xyzw, r22.xyzw, l(1.000000, 1.000000, 1.000000, 1.000000)
      div r22.xyzw, cb10[0].zzzz, r22.xyzw
      mad r27.xyzw, r16.xyzw, r22.xyzw, -r1.xxxx
      mad r28.xyzw, r17.xyzw, r22.xyzw, -r1.yyyy
      mad r22.xyzw, -r1.zzzz, r0.zzzz, r22.xyzw
      mul r28.xyzw, r28.xyzw, r28.xyzw
      mad r27.xyzw, r27.xyzw, r27.xyzw, r28.xyzw
      mad r22.xyzw, r22.xyzw, r22.xyzw, r27.xyzw
      ge r22.xyzw, cb10[2].xxxx, r22.xyzw
      and r22.xyzw, r22.xyzw, l(0x3f800000, 0x3f800000, 0x3f800000, 0x3f800000)
      mov r23.y, r24.x
      mov r23.z, r25.x
      mov r23.w, r26.x
      dp4 r10.w, r23.xyzw, r22.xyzw
      add r14.z, r10.w, r14.z
      dp4 r10.w, r22.xyzw, l(1.000000, 1.000000, 1.000000, 1.000000)
      add r14.w, r10.w, r14.w
      mad r16.xyzw, cb10[2].zzzz, l(2.000000, 0.000000, -2.000000, 0.000000), r16.xyzw
      mad r17.xyzw, cb10[2].wwww, l(-0.000000, -2.000000, -0.000000, 2.000000), r17.xyzw
      iadd r18.xyz, r18.xyzx, l(2, 0, 0, 0)
      iadd r19.xyz, r19.xyzx, l(0, 2, 0, 0)
      iadd r20.xyz, r20.xyzx, l(-2, 0, 0, 0)
      iadd r21.xyz, r21.xyzx, l(0, -2, 0, 0)
      iadd r9.w, r9.w, l(2)
    endloop 
    mov r3.xy, r14.zwzz
    mad r5.xyzw, cb10[2].zzzz, l(0.000000, -1.000000, 0.000000, 1.000000), r5.xyzw
    mad r6.xyzw, cb10[2].wwww, l(-1.000000, -0.000000, 1.000000, -0.000000), r6.xyzw
    iadd r7.xyz, r7.xyzx, l(0, 1, 0, 0)
    iadd r8.xyz, r8.xyzx, l(-1, 0, 0, 0)
    iadd r9.xyz, r9.xyzx, l(0, -1, 0, 0)
    iadd r10.xyz, r10.xyzx, l(1, 0, 0, 0)
    iadd r1.w, r1.w, l(1)
  endloop 
  div r0.xyzw, r3.xxxx, r3.yyyy
else 
  mov r0.xyzw, r2.xxxx
endif 
ftoi r1.xy, v0.xyxx
mov r1.zw, l(0,0,0,0)
ld r1.xyzw, r1.xyzw, t4.xyzw
min o0.xyzw, r0.xyzw, r1.yyyy
ret 
// Approximately 131 instruction slots used
