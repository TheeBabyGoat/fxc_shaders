//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
//
// Buffer Definitions: 
//
// cbuffer misc_globals
// {
//
//   float4 globalFade;                 // Offset:    0 Size:    16 [unused]
//   float globalHeightScale;           // Offset:   16 Size:     4 [unused]
//   float4 g_Rage_Tessellation_CameraPosition;// Offset:   32 Size:    16 [unused]
//   float4 g_Rage_Tessellation_CameraZAxis;// Offset:   48 Size:    16 [unused]
//   float4 g_Rage_Tessellation_ScreenSpaceErrorParams;// Offset:   64 Size:    16 [unused]
//   float4 g_Rage_Tessellation_LinearScale;// Offset:   80 Size:    16 [unused]
//   float4 g_Rage_Tessellation_Frustum[4];// Offset:   96 Size:    64 [unused]
//   float4 g_Rage_Tessellation_Epsilons;// Offset:  160 Size:    16 [unused]
//   float4 globalScalars;              // Offset:  176 Size:    16 [unused]
//   float4 globalScalars2;             // Offset:  192 Size:    16 [unused]
//   float4 globalScalars3;             // Offset:  208 Size:    16 [unused]
//   float4 globalScreenSize;           // Offset:  224 Size:    16 [unused]
//   uint4 gTargetAAParams;             // Offset:  240 Size:    16 [unused]
//   float4 colorize;                   // Offset:  256 Size:    16 [unused]
//   float4 gGlobalParticleShadowBias;  // Offset:  272 Size:    16
//   float gGlobalParticleDofAlphaScale;// Offset:  288 Size:     4 [unused]
//   float gGlobalFogIntensity;         // Offset:  292 Size:     4 [unused]
//   float4 gPlayerLFootPos;            // Offset:  304 Size:    16 [unused]
//   float4 gPlayerRFootPos;            // Offset:  320 Size:    16 [unused]
//
// }
//
// cbuffer csmshader
// {
//
//   float4 gCSMShaderVars_shared[12];  // Offset:    0 Size:   192 [unused]
//   float4 gCSMDepthBias;              // Offset:  192 Size:    16 [unused]
//   float4 gCSMDepthSlopeBias;         // Offset:  208 Size:    16 [unused]
//   float4 gCSMResolution;             // Offset:  224 Size:    16
//   row_major float4x4 gLocalLightShadowData[8];// Offset:  240 Size:   512 [unused]
//   float4 gShadowTexParam;            // Offset:  752 Size:    16 [unused]
//
// }
//
// cbuffer ptfx_sprite_locals2
// {
//
//   float gBlendMode;                  // Offset:    0 Size:     4 [unused]
//   float4 gChannelMask;               // Offset:   16 Size:    16 [unused]
//   float gSuperAlpha;                 // Offset:   32 Size:     4 [unused]
//   float gDirectionalMult;            // Offset:   36 Size:     4 [unused]
//   float gAmbientMult;                // Offset:   40 Size:     4 [unused]
//   float gShadowAmount;               // Offset:   44 Size:     4 [unused]
//   float gExtraLightMult;             // Offset:   48 Size:     4 [unused]
//   float gCameraBias;                 // Offset:   52 Size:     4 [unused]
//   float gCameraShrink;               // Offset:   56 Size:     4 [unused]
//   float gNormalArc;                  // Offset:   60 Size:     4 [unused]
//   float gDirNormalBias;              // Offset:   64 Size:     4 [unused]
//   float gSoftnessCurve;              // Offset:   68 Size:     4 [unused]
//   float gSoftnessShadowMult;         // Offset:   72 Size:     4 [unused]
//   float gSoftnessShadowOffset;       // Offset:   76 Size:     4 [unused]
//   float gNormalMapMult;              // Offset:   80 Size:     4 [unused]
//   float3 gAlphaCutoffMinMax;         // Offset:   84 Size:    12
//   float gRG_BlendStartDistance;      // Offset:   96 Size:     4 [unused]
//   float gRG_BlendEndDistance;        // Offset:  100 Size:     4 [unused]
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim      HLSL Bind  Count
// ------------------------------ ---------- ------- ----------- -------------- ------
// DiffuseTexSampler                 sampler      NA          NA             s5      1 
// DepthMapTexSampler                sampler      NA          NA            s12      1 
// DiffuseTexSampler                 texture  float4          2d             t5      1 
// DepthMapTexSampler                texture  float4          2d            t12      1 
// misc_globals                      cbuffer      NA          NA            cb2      1 
// csmshader                         cbuffer      NA          NA            cb6      1 
// ptfx_sprite_locals2               cbuffer      NA          NA            cb8      1 
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// TEXCOORD                 0   xyzw        0     NONE   float      w
// TEXCOORD                 1   xyzw        1     NONE   float   xyzw
// TEXCOORD                 2   xyzw        2     NONE   float       
// TEXCOORD                 3   xy          3     NONE   float   x   
// TEXCOORD                 5   xyzw        4     NONE   float       
// TEXCOORD                 6   xyzw        5     NONE   float     z 
// TEXCOORD                 7   xyzw        6     NONE   float       
// TEXCOORD                 8   xyzw        7     NONE   float     z 
// TEXCOORD                 9   xyzw        8     NONE   float       
// TEXCOORD                10   xyz         9     NONE   float       
// TEXCOORD                11   xyzw       10     NONE   float       
// SV_Position              0   xyzw       11      POS   float   xyz 
// SV_ClipDistance          0   xyzw       12  CLIPDST   float       
//
//
// Output signature:
//
// Name                 Index   Mask Register SysValue  Format   Used
// -------------------- ----- ------ -------- -------- ------- ------
// SV_Target                0   xyzw        0   TARGET   float   xyzw
// SV_Depth                 0    N/A   oDepth    DEPTH   float    YES
//
ps_4_0
dcl_constantbuffer CB2[18], immediateIndexed
dcl_constantbuffer CB6[15], immediateIndexed
dcl_constantbuffer CB8[6], immediateIndexed
dcl_sampler s5, mode_default
dcl_sampler s12, mode_default
dcl_resource_texture2d (float,float,float,float) t5
dcl_resource_texture2d (float,float,float,float) t12
dcl_input_ps linear v0.w
dcl_input_ps linear v1.xyzw
dcl_input_ps constant v3.x
dcl_input_ps constant v5.z
dcl_input_ps linear v7.z
dcl_input_ps_siv linear noperspective v11.xyz, position
dcl_output o0.xyzw
dcl_output oDepth
dcl_temps 5
ftou r0.x, v5.z
utof r0.x, r0.x
mul r0.y, r0.x, cb6[14].y
mad r0.x, r0.x, cb6[14].y, cb6[14].y
lt r0.y, v11.y, r0.y
lt r0.x, r0.x, v11.y
or r0.x, r0.x, r0.y
discard_nz r0.x
sample r0.xyzw, v1.xyxx, t5.xyzw, s5
mul r0.xyz, r0.xyzx, r0.xyzx
sample r1.xyzw, v1.zwzz, t5.xyzw, s5
mul r1.xyz, r1.xyzx, r1.xyzx
dp3 r0.x, r0.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
dp3 r0.y, r1.xyzx, l(1.000000, 1.000000, 1.000000, 0.000000)
add r0.zw, r0.xxxy, -cb8[5].yyyy
mul_sat r0.zw, r0.zzzw, l(0.000000, 0.000000, 10000.000000, 10000.000000)
add r1.x, cb8[5].z, l(0.001000)
add r1.x, -r0.x, r1.x
mul_sat r1.x, r1.x, l(10000.000000)
mad r0.zw, r0.zzzw, r1.xxxx, -r0.xxxy
mad r0.xy, cb8[5].wwww, r0.zwzz, r0.xyxx
add r0.y, -r0.x, r0.y
mad r0.x, v3.x, r0.y, r0.x
mul r0.x, r0.x, v0.w
mov_sat o0.xyzw, r0.xxxx
add r0.x, cb2[17].z, cb2[17].y
lt r0.x, v7.z, r0.x
if_nz r0.x
  mul r0.x, cb6[14].w, l(0.250000)
  add r1.xyzw, v11.xyxy, l(1.000000, 0.000000, -1.000000, 0.000000)
  mul r2.xz, r1.xxzx, cb6[14].zzzz
  mul r2.yw, r0.xxxx, r1.yyyw
  sample_l r1.xyzw, r2.xyxx, t12.xyzw, s12, l(0.000000)
  sample_l r2.xyzw, r2.zwzz, t12.xyzw, s12, l(0.000000)
  add r3.xyzw, v11.xyxy, l(0.000000, 1.000000, 0.000000, -1.000000)
  mul r4.xz, r3.xxzx, cb6[14].zzzz
  mul r4.yw, r0.xxxx, r3.yyyw
  sample_l r0.xyzw, r4.xyxx, t12.xyzw, s12, l(0.000000)
  sample_l r3.xyzw, r4.zwzz, t12.xyzw, s12, l(0.000000)
  add r0.y, r1.x, -r2.x
  add r0.x, r0.x, -r3.x
  max r0.x, |r0.x|, |r0.y|
  add r0.x, -r0.x, l(1.000000)
  mad r0.x, r0.x, cb2[17].x, v11.z
  add r0.y, v7.z, -cb2[17].y
  mul_sat r0.y, r0.y, cb2[17].w
  add r0.z, -r0.x, v11.z
  mad oDepth, r0.y, r0.z, r0.x
else 
  mov oDepth, v11.z
endif 
ret 
// Approximately 52 instruction slots used
